# 可视化大屏-大量数据渲染，出现卡顿怎么解决

## 网络层

1、预缓存懒加载

2、数据分批请求

3、强缓存和协商缓存

4、后端做数据采样, 只请求部分数据

5、开启 GZip 加速

## 渲染层

1、开启 GPU 硬件加速

2、可视区渲染, 增量渲染

3、区域缩放与整体概览

4、防抖节流, 防止高频渲染

5、异步渲染, 将所有的修改加入任务队列一起渲染

6、使用 H5 API 动画, 设定最佳渲染时机

7、Redis缓存读取

## 代码层


## 实题

1、2万个小球: 在浏览器端用JS存储两万小球信息, 包含小球的大小、位置、颜色等属性, 如何对其进行最优检索、存储、渲染

- 用 ArrayBuffer 实现极致存储
- 哈夫曼编码 + 字典查询树实现更优索引
- 用 bit-map 实现大数据筛查
- 用 hash 索引实现快速检索
- 用 indexDB 实现动态扩充浏览器端虚拟容量
- 用 iframe 的漏洞实现浏览器端 localStorage 无限存储

2、2万个小球: 如何尽可能流畅的实现这两万个小球

- 使用 GPU 硬件加速
- 使用 webGL
- 使用 assembly 辅助计算, 然后在浏览器端控制动画帧频
- 使用 web worker 实现 javascript 多线程, 分块处理小球
- 使用 单链表树算法和携程机制, 实现任务动态分割和任务暂停、恢复、回滚, 动态渲染和处理小球